<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="30,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T2U3">xp</span>, <span class="var type1" id="S3T2U4">yp</span>, <span class="var type1" id="S4T2U5">phi</span>] = projectPoints(<span class="var type1" id="S5T2U8">r</span>, <span class="var type1" id="S6T3U9">delta</span>, <span class="mxinfo " id="T3:U6"><span class="var type2" id="S7T3V1U10">dist</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="30,2" id="srcline2"> 2</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="30,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">% Koordinaten der Punkte f√ºr die mittlere Spur berechnen</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,4" id="srcline4"> 4</a></span><span class="line">[<span class="mxinfo " id="T2:U8"><span class="var type1" id="S8T2U14">x</span></span>, <span class="mxinfo " id="T2:U10"><span class="var type1" id="S9T2U15">y</span></span>, <span class="mxinfo " id="T2:U12"><span class="var type1" id="S4T2U16">phi</span></span>] = <span class="fcn" id="F17N4:B18">getPointsFromState</span>(<span class="var type1" id="S5T2U19">r</span>, <span class="var type1" id="S6T3U20">delta</span>); </span></span>
<span class="srcline"><span class="lineno"><a href="30,5" id="srcline5"> 5</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="30,6" id="srcline6"> 6</a></span><span class="line"><span class="mxinfo " id="T2:U16"><span class="var type1" id="S2T2U23">xp</span> = <span class="mxinfo " id="T2:U18">zeros(<span class="mxinfo " id="T3:U19">numel(<span class="var type1" id="S5T2U28">r</span>)</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,7" id="srcline7"> 7</a></span><span class="line"><span class="mxinfo " id="T2:U21"><span class="var type1" id="S3T2U32">yp</span> = <span class="mxinfo " id="T2:U23">zeros(<span class="mxinfo " id="T3:U24">numel(<span class="var type1" id="S5T2U37">r</span>)</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,8" id="srcline8"> 8</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="30,9" id="srcline9"> 9</a></span><span class="line"><span class="comment">%% Projektion </span></span></span>
<span class="srcline"><span class="lineno"><a href="30,10" id="srcline10">10</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="30,11" id="srcline11">11</a></span><span class="line"><span class="comment">% erster Punkt</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,12" id="srcline12">12</a></span><span class="line"><span class="mxinfo " id="T3:U26"><span class="var type1" id="S13T3U41">vx</span> = <span class="mxinfo " id="T3:U28">-(<span class="mxinfo " id="T3:U29"><span class="mxinfo " id="T3:U30"><span class="var type1" id="S9T2U46">y</span>(<span class="mxinfo " id="T3:U32">2</span>)</span>-<span class="mxinfo " id="T3:U33"><span class="var type1" id="S9T2U49">y</span>(<span class="mxinfo " id="T3:U35">1</span>)</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,13" id="srcline13">13</a></span><span class="line"><span class="mxinfo " id="T3:U36"><span class="var type1" id="S14T3U53">vy</span> =   <span class="mxinfo " id="T3:U38"><span class="mxinfo " id="T3:U39"><span class="var type1" id="S8T2U56">x</span>(<span class="mxinfo " id="T3:U41">2</span>)</span>-<span class="mxinfo " id="T3:U42"><span class="var type1" id="S8T2U59">x</span>(<span class="mxinfo " id="T3:U44">1</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,14" id="srcline14">14</a></span><span class="line"><span class="mxinfo " id="T3:U45"><span class="var type1" id="S15T3U63">betr</span> = <span class="mxinfo " id="T3:U47">sqrt(<span class="mxinfo " id="T3:U48"><span class="mxinfo " id="T3:U49"><span class="var type1" id="S13T3U68">vx</span>^2</span> + <span class="mxinfo " id="T3:U51"><span class="var type1" id="S14T3U71">vy</span>^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,15" id="srcline15">15</a></span><span class="line"><span class="mxinfo " id="T3:U53"><span class="mxinfo " id="T3:U54"><span class="var type1" id="S2T2U76">xp</span>(<span class="mxinfo " id="T3:U56">1</span>)</span> = <span class="mxinfo " id="T3:U57"><span class="mxinfo " id="T3:U58"><span class="var type1" id="S8T2U80">x</span>(<span class="mxinfo " id="T3:U60">1</span>)</span> + <span class="mxinfo " id="T3:U61"><span class="mxinfo " id="T3:U62"><span class="mxinfo " id="T3:U63"><span class="mxinfo " id="T3:U64">1</span>/<span class="var type1" id="S15T3U86">betr</span></span> * <span class="mxinfo " id="T3:U66"><span class="var type1" id="S7T3U87">dist</span></span></span> * <span class="var type1" id="S13T3U88">vx</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,16" id="srcline16">16</a></span><span class="line"><span class="mxinfo " id="T3:U69"><span class="mxinfo " id="T3:U70"><span class="var type1" id="S3T2U92">yp</span>(<span class="mxinfo " id="T3:U72">1</span>)</span> = <span class="mxinfo " id="T3:U73"><span class="mxinfo " id="T3:U74"><span class="var type1" id="S9T2U96">y</span>(<span class="mxinfo " id="T3:U76">1</span>)</span> + <span class="mxinfo " id="T3:U77"><span class="mxinfo " id="T3:U78"><span class="mxinfo " id="T3:U79"><span class="mxinfo " id="T3:U80">1</span>/<span class="var type1" id="S15T3U102">betr</span></span> * <span class="mxinfo " id="T3:U82"><span class="var type1" id="S7T3U103">dist</span></span></span> * <span class="var type1" id="S14T3U104">vy</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,17" id="srcline17">17</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="30,18" id="srcline18">18</a></span><span class="line"><span class="comment">%innere Punkte</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,19" id="srcline19">19</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S17T3U107">z</span>=<span class="mxinfo " id="T3:U86">2</span>:<span class="mxinfo " id="T3:U87"><span class="mxinfo " id="T3:U88">numel(<span class="var type1" id="S8T2U113">x</span>)</span>-<span class="mxinfo " id="T3:U90">1</span></span>   </span></span>
<span class="srcline"><span class="lineno"><a href="30,20" id="srcline20">20</a></span><span class="line">        <span class="mxinfo " id="T3:U91"><span class="var type1" id="S13T3U117">vx</span> = <span class="mxinfo " id="T3:U93"><span class="mxinfo " id="T3:U94"><span class="mxinfo " id="T3:U95"><span class="var type1" id="S8T2U121">x</span>(<span class="var type1" id="S17T3U122">z</span>)</span> - <span class="mxinfo " id="T3:U98"><span class="var type1" id="S8T2U124">x</span>(<span class="mxinfo " id="T3:U100"><span class="var type1" id="S17T3U126">z</span>-<span class="mxinfo " id="T3:U102">1</span></span>)</span></span> - <span class="mxinfo " id="T3:U103"><span class="mxinfo " id="T3:U104">0.5</span>*(<span class="mxinfo " id="T3:U105"><span class="mxinfo " id="T3:U106"><span class="var type1" id="S8T2U133">x</span>(<span class="mxinfo " id="T3:U108"><span class="var type1" id="S17T3U135">z</span>+<span class="mxinfo " id="T3:U110">1</span></span>)</span>-<span class="mxinfo " id="T3:U111"><span class="var type1" id="S8T2U138">x</span>(<span class="mxinfo " id="T3:U113"><span class="var type1" id="S17T3U140">z</span>-<span class="mxinfo " id="T3:U115">1</span></span>)</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,21" id="srcline21">21</a></span><span class="line">        <span class="mxinfo " id="T3:U116"><span class="var type1" id="S14T3U144">vy</span> = <span class="mxinfo " id="T3:U118"><span class="mxinfo " id="T3:U119"><span class="mxinfo " id="T3:U120"><span class="var type1" id="S9T2U148">y</span>(<span class="var type1" id="S17T3U149">z</span>)</span> - <span class="mxinfo " id="T3:U123"><span class="var type1" id="S9T2U151">y</span>(<span class="mxinfo " id="T3:U125"><span class="var type1" id="S17T3U153">z</span>-<span class="mxinfo " id="T3:U127">1</span></span>)</span></span> - <span class="mxinfo " id="T3:U128"><span class="mxinfo " id="T3:U129">0.5</span>*(<span class="mxinfo " id="T3:U130"><span class="mxinfo " id="T3:U131"><span class="var type1" id="S9T2U160">y</span>(<span class="mxinfo " id="T3:U133"><span class="var type1" id="S17T3U162">z</span>+<span class="mxinfo " id="T3:U135">1</span></span>)</span>-<span class="mxinfo " id="T3:U136"><span class="var type1" id="S9T2U165">y</span>(<span class="mxinfo " id="T3:U138"><span class="var type1" id="S17T3U167">z</span>-<span class="mxinfo " id="T3:U140">1</span></span>)</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,22" id="srcline22">22</a></span><span class="line">        <span class="mxinfo " id="T3:U141"><span class="var type1" id="S15T3U171">betr</span> = <span class="mxinfo " id="T3:U143">sqrt(<span class="mxinfo " id="T3:U144"><span class="mxinfo " id="T3:U145"><span class="var type1" id="S13T3U176">vx</span>^2</span> + <span class="mxinfo " id="T3:U147"><span class="var type1" id="S14T3U179">vy</span>^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,23" id="srcline23">23</a></span><span class="line">        <span class="keyword">if</span> <span class="mxinfo " id="T5:U149"><span class="var type1" id="S15T3U184">betr</span> &lt; <span class="mxinfo " id="T3:U151">0.0001</span></span> </span></span>
<span class="srcline"><span class="lineno"><a href="30,24" id="srcline24">24</a></span><span class="line">            <span class="mxinfo " id="T3:U152"><span class="var type1" id="S13T3U188">vx</span> = <span class="mxinfo " id="T3:U154">-(<span class="mxinfo " id="T3:U155"><span class="mxinfo " id="T3:U156"><span class="var type1" id="S9T2U193">y</span>(<span class="var type1" id="S17T3U194">z</span>)</span>-<span class="mxinfo " id="T3:U159"><span class="var type1" id="S9T2U196">y</span>(<span class="mxinfo " id="T3:U161"><span class="var type1" id="S17T3U198">z</span>-<span class="mxinfo " id="T3:U163">1</span></span>)</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,25" id="srcline25">25</a></span><span class="line">            <span class="mxinfo " id="T3:U164"><span class="var type1" id="S14T3U202">vy</span> = <span class="mxinfo " id="T3:U166"><span class="mxinfo " id="T3:U167"><span class="var type1" id="S8T2U205">x</span>(<span class="var type1" id="S17T3U206">z</span>)</span>-<span class="mxinfo " id="T3:U170"><span class="var type1" id="S8T2U208">x</span>(<span class="mxinfo " id="T3:U172"><span class="var type1" id="S17T3U210">z</span>-<span class="mxinfo " id="T3:U174">1</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,26" id="srcline26">26</a></span><span class="line">            <span class="mxinfo " id="T3:U175"><span class="var type1" id="S15T3U214">betr</span> = <span class="mxinfo " id="T3:U177">sqrt(<span class="mxinfo " id="T3:U178"><span class="mxinfo " id="T3:U179"><span class="var type1" id="S13T3U219">vx</span>^2</span> + <span class="mxinfo " id="T3:U181"><span class="var type1" id="S14T3U222">vy</span>^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,27" id="srcline27">27</a></span><span class="line">            <span class="mxinfo " id="T3:U183"><span class="mxinfo " id="T3:U184"><span class="var type1" id="S2T2U227">xp</span>(<span class="var type1" id="S17T3U228">z</span>)</span> = <span class="mxinfo " id="T3:U187"><span class="mxinfo " id="T3:U188"><span class="var type1" id="S8T2U231">x</span>(<span class="var type1" id="S17T3U232">z</span>)</span> + <span class="mxinfo " id="T3:U191"><span class="mxinfo " id="T3:U192"><span class="mxinfo " id="T3:U193"><span class="mxinfo " id="T3:U194">1</span>/<span class="var type1" id="S15T3U237">betr</span></span> * <span class="mxinfo " id="T3:U196"><span class="var type1" id="S7T3U238">dist</span></span></span> * <span class="var type1" id="S13T3U239">vx</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,28" id="srcline28">28</a></span><span class="line">            <span class="mxinfo " id="T3:U199"><span class="mxinfo " id="T3:U200"><span class="var type1" id="S3T2U243">yp</span>(<span class="var type1" id="S17T3U244">z</span>)</span> = <span class="mxinfo " id="T3:U203"><span class="mxinfo " id="T3:U204"><span class="var type1" id="S9T2U247">y</span>(<span class="var type1" id="S17T3U248">z</span>)</span> + <span class="mxinfo " id="T3:U207"><span class="mxinfo " id="T3:U208"><span class="mxinfo " id="T3:U209"><span class="mxinfo " id="T3:U210">1</span>/<span class="var type1" id="S15T3U253">betr</span></span> * <span class="mxinfo " id="T3:U212"><span class="var type1" id="S7T3U254">dist</span></span></span> * <span class="var type1" id="S14T3U255">vy</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,29" id="srcline29">29</a></span><span class="line">        <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,30" id="srcline30">30</a></span><span class="line">            <span class="mxinfo " id="T3:U215"><span class="mxinfo " id="T3:U216"><span class="var type1" id="S2T2U260">xp</span>(<span class="var type1" id="S17T3U261">z</span>)</span> = <span class="mxinfo " id="T3:U219"><span class="mxinfo " id="T3:U220"><span class="var type1" id="S8T2U264">x</span>(<span class="var type1" id="S17T3U265">z</span>)</span> - <span class="mxinfo " id="T3:U223"><span class="mxinfo " id="T3:U224"><span class="mxinfo " id="T3:U225"><span class="mxinfo " id="T3:U226"><span class="mxinfo " id="T3:U227">sign(<span class="mxinfo " id="T3:U228"><span class="var type1" id="S5T2U273">r</span>(<span class="mxinfo " id="T3:U230"><span class="var type1" id="S17T3U275">z</span>+<span class="mxinfo " id="T3:U232">1</span></span>)</span>)</span>* <span class="mxinfo " id="T3:U233">1</span></span>/<span class="var type1" id="S15T3U278">betr</span></span> * <span class="mxinfo " id="T3:U235"><span class="var type1" id="S7T3U279">dist</span></span></span> * <span class="var type1" id="S13T3U280">vx</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,31" id="srcline31">31</a></span><span class="line">            <span class="mxinfo " id="T3:U238"><span class="mxinfo " id="T3:U239"><span class="var type1" id="S3T2U284">yp</span>(<span class="var type1" id="S17T3U285">z</span>)</span> = <span class="mxinfo " id="T3:U242"><span class="mxinfo " id="T3:U243"><span class="var type1" id="S9T2U288">y</span>(<span class="var type1" id="S17T3U289">z</span>)</span> - <span class="mxinfo " id="T3:U246"><span class="mxinfo " id="T3:U247"><span class="mxinfo " id="T3:U248"><span class="mxinfo " id="T3:U249"><span class="mxinfo " id="T3:U250">sign(<span class="mxinfo " id="T3:U251"><span class="var type1" id="S5T2U297">r</span>(<span class="mxinfo " id="T3:U253"><span class="var type1" id="S17T3U299">z</span>+<span class="mxinfo " id="T3:U255">1</span></span>)</span>)</span>* <span class="mxinfo " id="T3:U256">1</span></span>/<span class="var type1" id="S15T3U302">betr</span></span> * <span class="mxinfo " id="T3:U258"><span class="var type1" id="S7T3U303">dist</span></span></span> * <span class="var type1" id="S14T3U304">vy</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,32" id="srcline32">32</a></span><span class="line">        <span class="keyword">end</span>               </span></span>
<span class="srcline"><span class="lineno"><a href="30,33" id="srcline33">33</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,34" id="srcline34">34</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="30,35" id="srcline35">35</a></span><span class="line"><span class="comment">%letzter Punkt</span></span></span>
<span class="srcline"><span class="lineno"><a href="30,36" id="srcline36">36</a></span><span class="line"><span class="mxinfo " id="T3:U261"><span class="var type1" id="S17T3U307">z</span>=<span class="mxinfo " id="T3:U263">numel(<span class="var type1" id="S8T2U310">x</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,37" id="srcline37">37</a></span><span class="line"><span class="mxinfo " id="T3:U265"><span class="var type1" id="S13T3U313">vx</span> = <span class="mxinfo " id="T3:U267">-(<span class="mxinfo " id="T3:U268"><span class="mxinfo " id="T3:U269"><span class="var type1" id="S9T2U318">y</span>(<span class="var type1" id="S17T3U319">z</span>)</span>-<span class="mxinfo " id="T3:U272"><span class="var type1" id="S9T2U321">y</span>(<span class="mxinfo " id="T3:U274"><span class="var type1" id="S17T3U323">z</span>-<span class="mxinfo " id="T3:U276">1</span></span>)</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,38" id="srcline38">38</a></span><span class="line"><span class="mxinfo " id="T3:U277"><span class="var type1" id="S14T3U327">vy</span> = <span class="mxinfo " id="T3:U279"><span class="mxinfo " id="T3:U280"><span class="var type1" id="S8T2U330">x</span>(<span class="var type1" id="S17T3U331">z</span>)</span>-<span class="mxinfo " id="T3:U283"><span class="var type1" id="S8T2U333">x</span>(<span class="mxinfo " id="T3:U285"><span class="var type1" id="S17T3U335">z</span>-<span class="mxinfo " id="T3:U287">1</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,39" id="srcline39">39</a></span><span class="line"><span class="mxinfo " id="T3:U288"><span class="var type1" id="S15T3U339">betr</span> = <span class="mxinfo " id="T3:U290">sqrt(<span class="mxinfo " id="T3:U291"><span class="mxinfo " id="T3:U292"><span class="var type1" id="S13T3U344">vx</span>^2</span> + <span class="mxinfo " id="T3:U294"><span class="var type1" id="S14T3U347">vy</span>^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,40" id="srcline40">40</a></span><span class="line"><span class="mxinfo " id="T3:U296"><span class="mxinfo " id="T3:U297"><span class="var type1" id="S2T2U352">xp</span>(<span class="var type1" id="S17T3U353">z</span>)</span> = <span class="mxinfo " id="T3:U300"><span class="mxinfo " id="T3:U301"><span class="var type1" id="S8T2U356">x</span>(<span class="var type1" id="S17T3U357">z</span>)</span> + <span class="mxinfo " id="T3:U304"><span class="mxinfo " id="T3:U305"><span class="mxinfo " id="T3:U306"><span class="mxinfo " id="T3:U307">1</span>/<span class="var type1" id="S15T3U362">betr</span></span> * <span class="mxinfo " id="T3:U309"><span class="var type1" id="S7T3U363">dist</span></span></span> * <span class="var type1" id="S13T3U364">vx</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,41" id="srcline41">41</a></span><span class="line"><span class="mxinfo " id="T3:U312"><span class="mxinfo " id="T3:U313"><span class="var type1" id="S3T2U368">yp</span>(<span class="var type1" id="S17T3U369">z</span>)</span> = <span class="mxinfo " id="T3:U316"><span class="mxinfo " id="T3:U317"><span class="var type1" id="S9T2U372">y</span>(<span class="var type1" id="S17T3U373">z</span>)</span> + <span class="mxinfo " id="T3:U320"><span class="mxinfo " id="T3:U321"><span class="mxinfo " id="T3:U322"><span class="mxinfo " id="T3:U323">1</span>/<span class="var type1" id="S15T3U378">betr</span></span> * <span class="mxinfo " id="T3:U325"><span class="var type1" id="S7T3U379">dist</span></span></span> * <span class="var type1" id="S14T3U380">vy</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="30,42" id="srcline42">42</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="30,43" id="srcline43">43</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="30,44" id="srcline44">44</a></span><span class="line">        </span></span>
</pre>
