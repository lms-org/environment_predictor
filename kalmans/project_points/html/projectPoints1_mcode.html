<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T1U3">xp</span>, <span class="var type1" id="S3T1U4">yp</span>] = projectPoints(<span class="var type1" id="S4T1U7">r</span>, <span class="var type1" id="S5T2U8">delta</span>, <span class="var type1" id="S6T2U9">dist</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2"> 2</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">% Koordinaten der Punkte f√ºr die mittlere Spur berechnen</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4"> 4</a></span><span class="line">[<span class="mxinfo " id="T1:U6"><span class="var type1" id="S7T1U13">x</span></span>, <span class="mxinfo " id="T1:U8"><span class="var type1" id="S8T1U14">y</span></span>] = <span class="fcn" id="F17N2:B16">getPointsFromState</span>(<span class="var type1" id="S4T1U17">r</span>, <span class="var type1" id="S5T2U18">delta</span>); </span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5"> 5</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6"> 6</a></span><span class="line"><span class="mxinfo " id="T1:U12"><span class="var type1" id="S2T1U21">xp</span> = <span class="mxinfo " id="T1:U14">zeros(<span class="mxinfo " id="T2:U15">numel(<span class="var type1" id="S4T1U26">r</span>)</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7"> 7</a></span><span class="line"><span class="mxinfo " id="T1:U17"><span class="var type1" id="S3T1U30">yp</span> = <span class="mxinfo " id="T1:U19">zeros(<span class="mxinfo " id="T2:U20">numel(<span class="var type1" id="S4T1U35">r</span>)</span>, 1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8"> 8</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,9" id="srcline9"> 9</a></span><span class="line"><span class="comment">%% Projektion </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,10" id="srcline10">10</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,11" id="srcline11">11</a></span><span class="line"><span class="comment">% erster Punkt</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,12" id="srcline12">12</a></span><span class="line"><span class="mxinfo " id="T2:U22"><span class="var type1" id="S12T2U39">vx</span> = <span class="mxinfo " id="T2:U24">-(<span class="mxinfo " id="T2:U25"><span class="mxinfo " id="T2:U26"><span class="var type1" id="S8T1U44">y</span>(<span class="mxinfo " id="T2:U28">2</span>)</span>-<span class="mxinfo " id="T2:U29"><span class="var type1" id="S8T1U47">y</span>(<span class="mxinfo " id="T2:U31">1</span>)</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,13" id="srcline13">13</a></span><span class="line"><span class="mxinfo " id="T2:U32"><span class="var type1" id="S13T2U51">vy</span> =   <span class="mxinfo " id="T2:U34"><span class="mxinfo " id="T2:U35"><span class="var type1" id="S7T1U54">x</span>(<span class="mxinfo " id="T2:U37">2</span>)</span>-<span class="mxinfo " id="T2:U38"><span class="var type1" id="S7T1U57">x</span>(<span class="mxinfo " id="T2:U40">1</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,14" id="srcline14">14</a></span><span class="line"><span class="mxinfo " id="T2:U41"><span class="var type1" id="S14T2U61">betr</span> = <span class="mxinfo " id="T2:U43">sqrt(<span class="mxinfo " id="T2:U44"><span class="mxinfo " id="T2:U45"><span class="var type1" id="S12T2U66">vx</span>^2</span> + <span class="mxinfo " id="T2:U47"><span class="var type1" id="S13T2U69">vy</span>^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,15" id="srcline15">15</a></span><span class="line"><span class="mxinfo " id="T2:U49"><span class="mxinfo " id="T2:U50"><span class="var type1" id="S2T1U74">xp</span>(<span class="mxinfo " id="T2:U52">1</span>)</span> = <span class="mxinfo " id="T2:U53"><span class="mxinfo " id="T2:U54"><span class="var type1" id="S7T1U78">x</span>(<span class="mxinfo " id="T2:U56">1</span>)</span> + <span class="mxinfo " id="T2:U57"><span class="mxinfo " id="T2:U58"><span class="mxinfo " id="T2:U59"><span class="mxinfo " id="T2:U60">1</span>/<span class="var type1" id="S14T2U84">betr</span></span> * <span class="var type1" id="S6T2U85">dist</span></span> * <span class="var type1" id="S12T2U86">vx</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,16" id="srcline16">16</a></span><span class="line"><span class="mxinfo " id="T2:U64"><span class="mxinfo " id="T2:U65"><span class="var type1" id="S3T1U90">yp</span>(<span class="mxinfo " id="T2:U67">1</span>)</span> = <span class="mxinfo " id="T2:U68"><span class="mxinfo " id="T2:U69"><span class="var type1" id="S8T1U94">y</span>(<span class="mxinfo " id="T2:U71">1</span>)</span> + <span class="mxinfo " id="T2:U72"><span class="mxinfo " id="T2:U73"><span class="mxinfo " id="T2:U74"><span class="mxinfo " id="T2:U75">1</span>/<span class="var type1" id="S14T2U100">betr</span></span> * <span class="var type1" id="S6T2U101">dist</span></span> * <span class="var type1" id="S13T2U102">vy</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,17" id="srcline17">17</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,18" id="srcline18">18</a></span><span class="line"><span class="comment">%innere Punkte</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,19" id="srcline19">19</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S16T2U105">z</span>=<span class="mxinfo " id="T2:U80">2</span>:<span class="mxinfo " id="T2:U81"><span class="mxinfo " id="T2:U82">numel(<span class="var type1" id="S7T1U111">x</span>)</span>-<span class="mxinfo " id="T2:U84">1</span></span>   </span></span>
<span class="srcline"><span class="lineno"><a href="1,20" id="srcline20">20</a></span><span class="line">        <span class="mxinfo " id="T2:U85"><span class="var type1" id="S12T2U115">vx</span> = <span class="mxinfo " id="T2:U87"><span class="mxinfo " id="T2:U88"><span class="mxinfo " id="T2:U89"><span class="var type1" id="S7T1U119">x</span>(<span class="var type1" id="S16T2U120">z</span>)</span> - <span class="mxinfo " id="T2:U92"><span class="var type1" id="S7T1U122">x</span>(<span class="mxinfo " id="T2:U94"><span class="var type1" id="S16T2U124">z</span>-<span class="mxinfo " id="T2:U96">1</span></span>)</span></span> - <span class="mxinfo " id="T2:U97"><span class="mxinfo " id="T2:U98">0.5</span>*(<span class="mxinfo " id="T2:U99"><span class="mxinfo " id="T2:U100"><span class="var type1" id="S7T1U131">x</span>(<span class="mxinfo " id="T2:U102"><span class="var type1" id="S16T2U133">z</span>+<span class="mxinfo " id="T2:U104">1</span></span>)</span>-<span class="mxinfo " id="T2:U105"><span class="var type1" id="S7T1U136">x</span>(<span class="mxinfo " id="T2:U107"><span class="var type1" id="S16T2U138">z</span>-<span class="mxinfo " id="T2:U109">1</span></span>)</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,21" id="srcline21">21</a></span><span class="line">        <span class="mxinfo " id="T2:U110"><span class="var type1" id="S13T2U142">vy</span> = <span class="mxinfo " id="T2:U112"><span class="mxinfo " id="T2:U113"><span class="mxinfo " id="T2:U114"><span class="var type1" id="S8T1U146">y</span>(<span class="var type1" id="S16T2U147">z</span>)</span> - <span class="mxinfo " id="T2:U117"><span class="var type1" id="S8T1U149">y</span>(<span class="mxinfo " id="T2:U119"><span class="var type1" id="S16T2U151">z</span>-<span class="mxinfo " id="T2:U121">1</span></span>)</span></span> - <span class="mxinfo " id="T2:U122"><span class="mxinfo " id="T2:U123">0.5</span>*(<span class="mxinfo " id="T2:U124"><span class="mxinfo " id="T2:U125"><span class="var type1" id="S8T1U158">y</span>(<span class="mxinfo " id="T2:U127"><span class="var type1" id="S16T2U160">z</span>+<span class="mxinfo " id="T2:U129">1</span></span>)</span>-<span class="mxinfo " id="T2:U130"><span class="var type1" id="S8T1U163">y</span>(<span class="mxinfo " id="T2:U132"><span class="var type1" id="S16T2U165">z</span>-<span class="mxinfo " id="T2:U134">1</span></span>)</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,22" id="srcline22">22</a></span><span class="line">        <span class="mxinfo " id="T2:U135"><span class="var type1" id="S14T2U169">betr</span> = <span class="mxinfo " id="T2:U137">sqrt(<span class="mxinfo " id="T2:U138"><span class="mxinfo " id="T2:U139"><span class="var type1" id="S12T2U174">vx</span>^2</span> + <span class="mxinfo " id="T2:U141"><span class="var type1" id="S13T2U177">vy</span>^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,23" id="srcline23">23</a></span><span class="line">        <span class="keyword">if</span> <span class="mxinfo " id="T4:U143"><span class="var type1" id="S14T2U182">betr</span> &lt; <span class="mxinfo " id="T2:U145">0.0001</span></span> </span></span>
<span class="srcline"><span class="lineno"><a href="1,24" id="srcline24">24</a></span><span class="line">            <span class="mxinfo " id="T2:U146"><span class="var type1" id="S12T2U186">vx</span> = <span class="mxinfo " id="T2:U148">-(<span class="mxinfo " id="T2:U149"><span class="mxinfo " id="T2:U150"><span class="var type1" id="S8T1U191">y</span>(<span class="var type1" id="S16T2U192">z</span>)</span>-<span class="mxinfo " id="T2:U153"><span class="var type1" id="S8T1U194">y</span>(<span class="mxinfo " id="T2:U155"><span class="var type1" id="S16T2U196">z</span>-<span class="mxinfo " id="T2:U157">1</span></span>)</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,25" id="srcline25">25</a></span><span class="line">            <span class="mxinfo " id="T2:U158"><span class="var type1" id="S13T2U200">vy</span> = <span class="mxinfo " id="T2:U160"><span class="mxinfo " id="T2:U161"><span class="var type1" id="S7T1U203">x</span>(<span class="var type1" id="S16T2U204">z</span>)</span>-<span class="mxinfo " id="T2:U164"><span class="var type1" id="S7T1U206">x</span>(<span class="mxinfo " id="T2:U166"><span class="var type1" id="S16T2U208">z</span>-<span class="mxinfo " id="T2:U168">1</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,26" id="srcline26">26</a></span><span class="line">            <span class="mxinfo " id="T2:U169"><span class="var type1" id="S14T2U212">betr</span> = <span class="mxinfo " id="T2:U171">sqrt(<span class="mxinfo " id="T2:U172"><span class="mxinfo " id="T2:U173"><span class="var type1" id="S12T2U217">vx</span>^2</span> + <span class="mxinfo " id="T2:U175"><span class="var type1" id="S13T2U220">vy</span>^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,27" id="srcline27">27</a></span><span class="line">            <span class="mxinfo " id="T2:U177"><span class="mxinfo " id="T2:U178"><span class="var type1" id="S2T1U225">xp</span>(<span class="var type1" id="S16T2U226">z</span>)</span> = <span class="mxinfo " id="T2:U181"><span class="mxinfo " id="T2:U182"><span class="var type1" id="S7T1U229">x</span>(<span class="var type1" id="S16T2U230">z</span>)</span> + <span class="mxinfo " id="T2:U185"><span class="mxinfo " id="T2:U186"><span class="mxinfo " id="T2:U187"><span class="mxinfo " id="T2:U188">1</span>/<span class="var type1" id="S14T2U235">betr</span></span> * <span class="var type1" id="S6T2U236">dist</span></span> * <span class="var type1" id="S12T2U237">vx</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,28" id="srcline28">28</a></span><span class="line">            <span class="mxinfo " id="T2:U192"><span class="mxinfo " id="T2:U193"><span class="var type1" id="S3T1U241">yp</span>(<span class="var type1" id="S16T2U242">z</span>)</span> = <span class="mxinfo " id="T2:U196"><span class="mxinfo " id="T2:U197"><span class="var type1" id="S8T1U245">y</span>(<span class="var type1" id="S16T2U246">z</span>)</span> + <span class="mxinfo " id="T2:U200"><span class="mxinfo " id="T2:U201"><span class="mxinfo " id="T2:U202"><span class="mxinfo " id="T2:U203">1</span>/<span class="var type1" id="S14T2U251">betr</span></span> * <span class="var type1" id="S6T2U252">dist</span></span> * <span class="var type1" id="S13T2U253">vy</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,29" id="srcline29">29</a></span><span class="line">        <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,30" id="srcline30">30</a></span><span class="line">            <span class="mxinfo " id="T2:U207"><span class="mxinfo " id="T2:U208"><span class="var type1" id="S2T1U258">xp</span>(<span class="var type1" id="S16T2U259">z</span>)</span> = <span class="mxinfo " id="T2:U211"><span class="mxinfo " id="T2:U212"><span class="var type1" id="S7T1U262">x</span>(<span class="var type1" id="S16T2U263">z</span>)</span> - <span class="mxinfo " id="T2:U215"><span class="mxinfo " id="T2:U216"><span class="mxinfo " id="T2:U217"><span class="mxinfo " id="T2:U218"><span class="mxinfo " id="T2:U219">sign(<span class="mxinfo " id="T2:U220"><span class="var type1" id="S4T1U271">r</span>(<span class="mxinfo " id="T2:U222"><span class="var type1" id="S16T2U273">z</span>+<span class="mxinfo " id="T2:U224">1</span></span>)</span>)</span>* <span class="mxinfo " id="T2:U225">1</span></span>/<span class="var type1" id="S14T2U276">betr</span></span> * <span class="var type1" id="S6T2U277">dist</span></span> * <span class="var type1" id="S12T2U278">vx</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,31" id="srcline31">31</a></span><span class="line">            <span class="mxinfo " id="T2:U229"><span class="mxinfo " id="T2:U230"><span class="var type1" id="S3T1U282">yp</span>(<span class="var type1" id="S16T2U283">z</span>)</span> = <span class="mxinfo " id="T2:U233"><span class="mxinfo " id="T2:U234"><span class="var type1" id="S8T1U286">y</span>(<span class="var type1" id="S16T2U287">z</span>)</span> - <span class="mxinfo " id="T2:U237"><span class="mxinfo " id="T2:U238"><span class="mxinfo " id="T2:U239"><span class="mxinfo " id="T2:U240"><span class="mxinfo " id="T2:U241">sign(<span class="mxinfo " id="T2:U242"><span class="var type1" id="S4T1U295">r</span>(<span class="mxinfo " id="T2:U244"><span class="var type1" id="S16T2U297">z</span>+<span class="mxinfo " id="T2:U246">1</span></span>)</span>)</span>* <span class="mxinfo " id="T2:U247">1</span></span>/<span class="var type1" id="S14T2U300">betr</span></span> * <span class="var type1" id="S6T2U301">dist</span></span> * <span class="var type1" id="S13T2U302">vy</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,32" id="srcline32">32</a></span><span class="line">        <span class="keyword">end</span>               </span></span>
<span class="srcline"><span class="lineno"><a href="1,33" id="srcline33">33</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,34" id="srcline34">34</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,35" id="srcline35">35</a></span><span class="line"><span class="comment">%letzter Punkt</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,36" id="srcline36">36</a></span><span class="line"><span class="mxinfo " id="T2:U251"><span class="var type1" id="S16T2U305">z</span>=<span class="mxinfo " id="T2:U253">numel(<span class="var type1" id="S7T1U308">x</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,37" id="srcline37">37</a></span><span class="line"><span class="mxinfo " id="T2:U255"><span class="var type1" id="S12T2U311">vx</span> = <span class="mxinfo " id="T2:U257">-(<span class="mxinfo " id="T2:U258"><span class="mxinfo " id="T2:U259"><span class="var type1" id="S8T1U316">y</span>(<span class="var type1" id="S16T2U317">z</span>)</span>-<span class="mxinfo " id="T2:U262"><span class="var type1" id="S8T1U319">y</span>(<span class="mxinfo " id="T2:U264"><span class="var type1" id="S16T2U321">z</span>-<span class="mxinfo " id="T2:U266">1</span></span>)</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,38" id="srcline38">38</a></span><span class="line"><span class="mxinfo " id="T2:U267"><span class="var type1" id="S13T2U325">vy</span> = <span class="mxinfo " id="T2:U269"><span class="mxinfo " id="T2:U270"><span class="var type1" id="S7T1U328">x</span>(<span class="var type1" id="S16T2U329">z</span>)</span>-<span class="mxinfo " id="T2:U273"><span class="var type1" id="S7T1U331">x</span>(<span class="mxinfo " id="T2:U275"><span class="var type1" id="S16T2U333">z</span>-<span class="mxinfo " id="T2:U277">1</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,39" id="srcline39">39</a></span><span class="line"><span class="mxinfo " id="T2:U278"><span class="var type1" id="S14T2U337">betr</span> = <span class="mxinfo " id="T2:U280">sqrt(<span class="mxinfo " id="T2:U281"><span class="mxinfo " id="T2:U282"><span class="var type1" id="S12T2U342">vx</span>^2</span> + <span class="mxinfo " id="T2:U284"><span class="var type1" id="S13T2U345">vy</span>^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,40" id="srcline40">40</a></span><span class="line"><span class="mxinfo " id="T2:U286"><span class="mxinfo " id="T2:U287"><span class="var type1" id="S2T1U350">xp</span>(<span class="var type1" id="S16T2U351">z</span>)</span> = <span class="mxinfo " id="T2:U290"><span class="mxinfo " id="T2:U291"><span class="var type1" id="S7T1U354">x</span>(<span class="var type1" id="S16T2U355">z</span>)</span> + <span class="mxinfo " id="T2:U294"><span class="mxinfo " id="T2:U295"><span class="mxinfo " id="T2:U296"><span class="mxinfo " id="T2:U297">1</span>/<span class="var type1" id="S14T2U360">betr</span></span> * <span class="var type1" id="S6T2U361">dist</span></span> * <span class="var type1" id="S12T2U362">vx</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,41" id="srcline41">41</a></span><span class="line"><span class="mxinfo " id="T2:U301"><span class="mxinfo " id="T2:U302"><span class="var type1" id="S3T1U366">yp</span>(<span class="var type1" id="S16T2U367">z</span>)</span> = <span class="mxinfo " id="T2:U305"><span class="mxinfo " id="T2:U306"><span class="var type1" id="S8T1U370">y</span>(<span class="var type1" id="S16T2U371">z</span>)</span> + <span class="mxinfo " id="T2:U309"><span class="mxinfo " id="T2:U310"><span class="mxinfo " id="T2:U311"><span class="mxinfo " id="T2:U312">1</span>/<span class="var type1" id="S14T2U376">betr</span></span> * <span class="var type1" id="S6T2U377">dist</span></span> * <span class="var type1" id="S13T2U378">vy</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,42" id="srcline42">42</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,43" id="srcline43">43</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="1,44" id="srcline44">44</a></span><span class="line">        </span></span>
</pre>
